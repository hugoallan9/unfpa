pobreza <- leerLibroNormal('/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCocinado.xlsx')
escribirCSV(pobreza, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSVENCOVI/')
pobrezaCSV <- leerLibro(ruta = '/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCSV.xlsx')
escribirCSV(lista = pobrezaCSV, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSV/1/')
ENC1
source('/mnt/datos/GitHub/ResultadosEncovi/R/pobreaza.R')
##############################DESIGUALDAD#########################################
library(funcionesINE)
library(xlsx)
library(xlsxjars)
documento <- leerLibroNormal('/mnt/datos/GitHub/ResultadosEncovi/Libros/32- Desigualdad 1151115.xlsx')
escribirCSV(documento, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSVENCOVI/')
desigualdad <- leerLibro(ruta = '/mnt/datos/GitHub/ResultadosEncovi/Libros/desigualdadCSV.xlsx')
escribirCSV(lista = desigualdad, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSV/2/')
anual()
ENC2<- cargaMasiva("/mnt/datos/GitHub/ResultadosEncovi/CSV/2/")
g1<- graficaLinea(ENC2$"2_01",rotar = "h", precision = 2,inicio = 0.4, final = 0.65)
g1<- graficaLinea(ENC2$"2_01",rotar = "h", precision = 2,inicio = 0.3, final = 1)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_01.tex",g1)
g1<- graficaLinea(ENC2$"2_01",rotar = "h", precision = 2,inicio = 0.35, final = 1)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_01.tex",g1)
g1<- graficaLinea(ENC2$"2_01",rotar = "h", precision = 2,inicio = 0.2, final = 0.7)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_01.tex",g1)
g2<- graficaLinea(ENC2$"2_02",rotar = "h",  precision = 2,inicio = 0.2, final = 0.7)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_02.tex",g2)
g2<- graficaLinea(ENC2$"2_02",rotar = "h",  precision = 2,inicio = 0.25, final = 0.65)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_02.tex",g2)
g2<- graficaLinea(ENC2$"2_02",rotar = "h",  precision = 2,inicio = 0.25, final = 0.60)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_02.tex",g2)
g2<- graficaLinea(ENC2$"2_02",rotar = "h",  precision = 2,inicio = 0.25, final = 0.55)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_02.tex",g2)
g3<- graficaLinea(ENC2$"2_03",rotar = "h",  precision = 2, inicio = 0.35, final = 1.2)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_03.tex",g3)
g3<- graficaLinea(ENC2$"2_03",rotar = "h",  precision = 2, inicio = 0.35, final = 0.95)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_03.tex",g3)
g4<- graficaLinea(ENC2$"2_04",rotar = "h",  precision = 2,inicio = 0.35, final = 0.95)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_04.tex",g4)
g4<- graficaLinea(ENC2$"2_04",rotar = "h",  precision = 2,inicio = 0.35, final = 0.8)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_04.tex",g4)
g4<- graficaLinea(ENC2$"2_04",rotar = "h",  precision = 2,inicio = 0.3, final = 0.8)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_04.tex",g4)
g5<- graficaLinea(ENC2$"2_05",rotar = "h", inicio = 0, final = 5)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_05.tex",g5)
g5<- graficaLinea(ENC2$"2_05",rotar = "h", inicio = 0, final = 4)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_05.tex",g5)
g6<- graficaLinea(ENC2$"2_06",rotar = "h", inicio = 40, final = 70)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_06.tex",g6)
g6<- graficaLinea(ENC2$"2_06",rotar = "h", inicio = 40, final = 65)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_06.tex",g6)
g7<- graficaLinea(ENC2$"2_07",rotar = "h", inicio = 10, final = 45)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_07.tex",g7)
g7<- graficaLinea(ENC2$"2_07",rotar = "h", inicio = 10, final = 40)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_07.tex",g7)
g7<- graficaLinea(ENC2$"2_07",rotar = "h", inicio = 10, final = 35)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/2_07.tex",g7)
g1<- graficaLinea(ENC1$"1_01",rotar = "h", inicio = 4000, final = 11000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_01.tex",g1)
g1<- graficaLinea(ENC1$"1_01",rotar = "h", inicio = 3000, final = 11000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_01.tex",g1)
g1<- graficaLinea(ENC1$"1_01",rotar = "h", inicio = 2000, final = 12000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_01.tex",g1)
g1<- graficaLinea(ENC1$"1_01",rotar = "h", inicio = 1000, final = 12000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_01.tex",g1)
g1<- graficaLinea(ENC1$"1_01",rotar = "h", inicio = 0, final = 12000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_01.tex",g1)
g2<- graficaLinea(ENC1$"1_02",rotar = "h", inicio = 40, final = 70)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_02.tex",g2)
g2<- graficaLinea(ENC1$"1_02",rotar = "h", inicio = 40, final = 60)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_02.tex",g2)
g2<- graficaLinea(ENC1$"1_02",rotar = "h", inicio = 30, final = 65)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_02.tex",g2)
g2<- graficaLinea(ENC1$"1_02",rotar = "h", inicio = 25, final = 69)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_02.tex",g2)
g2<- graficaLinea(ENC1$"1_02",rotar = "h", inicio = 25, final = 63)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_02.tex",g2)
g2<- graficaLinea(ENC1$"1_02",rotar = "h", inicio = 20, final = 63)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_02.tex",g2)
g4<- graficaColCategorias(ENC1$"1_03",ancho = 0.4,etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_03.tex",etiquetas = "h")
g4<- graficaColCategorias(ENC1$"1_03",ancho = 0.55,etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_03.tex",etiquetas = "h")
g4<- graficaColCategorias(ENC1$"1_03",ancho = 0.6,etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_03.tex",etiquetas = "h")
library(funcionesINE)
library(xlsx)
library(xlsxjars)
pobreza <- leerLibroNormal('/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCocinado.xlsx')
escribirCSV(pobreza, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSVENCOVI/')
pobrezaCSV <- leerLibro(ruta = '/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCSV.xlsx')
escribirCSV(lista = pobrezaCSV, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSV/1/')
anual()
ENC1<- cargaMasiva("/mnt/datos/GitHub/ResultadosEncovi/CSV/1", codificacion = 'utf8' )
g4<- graficaColCategorias(ENC1$"1_03",ancho = 0.6,etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_03.tex",etiquetas = "h")
g5<- graficaColCategorias(ENC1$"1_04", ancho = 0.6,  etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_04.tex",etiquetas = "h")
g11<- graficaLinea(ENC1$"1_08",rotar = "h", inicio = 0, final = 8000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_08.tex",g11)
g11<- graficaLinea(ENC1$"1_08",rotar = "h", inicio = 0, final = 7000)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_08.tex",g11)
g3<- graficaLinea(ENC1$"1_09",rotar = "h", inicio = 0, final = 30)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_09.tex",g3)
g3<- graficaLinea(ENC1$"1_09",rotar = "h", inicio = 0, final = 27)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_09.tex",g3)
g6<- graficaColCategorias(ENC1$"1_10", ancho = 0.6 ,etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_10.tex",etiquetas = "h")
g7<- graficaColCategorias(ENC1$"1_11", ancho = 0.6 ,etiquetasCategorias = "A",
ruta = "/mnt/datos/GitHub/ResultadosEncovi/graficas/1_11.tex",etiquetas = "h")
g8<- graficaLinea(ENC1$"1_13",rotar = "h", inicio = 0, final = 30)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_13.tex",g8)
g8<- graficaLinea(ENC1$"1_13",rotar = "h", inicio = 0, final = 26)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_13.tex",g8)
g9<- graficaLinea(ENC1$"1_15",rotar = "h", inicio = 0, final = 15)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_15.tex",g9)
g9<- graficaLinea(ENC1$"1_15",rotar = "h", inicio = 0, final = 15)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_15.tex",g9)
g9
ENC1
ENC1$´1_15´
ENC1$1_13
ENC1$'1_13'
ENC1$'1_14'
ENC1$'1_15'
g8<- graficaLinea(ENC1$"1_14",rotar = "h", inicio = 0, final = 26)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_14.tex",g8)
g8
g8<- graficaLinea(ENC1$"1_14",rotar = "h", inicio = 0, final = 7)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_14.tex",g8)
g10<- graficaLinea(ENC1$"1_16",rotar = "h", inicio =  0, final = 20)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_16.tex",g10)
g10<- graficaLinea(ENC1$"1_16",rotar = "h", inicio =  0, final = 15)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_16.tex",g10)
library(funcionesINE)
library(xlsx)
library(xlsxjars)
pobreza <- leerLibroNormal('/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCocinado.xlsx')
escribirCSV(pobreza, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSVENCOVI/')
pobrezaCSV <- leerLibro(ruta = '/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCSV.xlsx')
escribirCSV(lista = pobrezaCSV, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSV/1/')
anual()
ENC1<- cargaMasiva("/mnt/datos/GitHub/ResultadosEncovi/CSV/1", codificacion = 'utf8' )
g <- graficaCol(ENC1$"1_18", ordenar = F)
g <- etiquetasHorizontales(g)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_18.tex",g1)
g <- graficaCol(ENC1$"1_18", ordenar = F)
g <- etiquetasHorizontales(g)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/1_18.tex",g)
source('/mnt/datos/GitHub/ResultadosEncovi/R/odm.R')
g14
g16
source('~/.active-rstudio-document')
g16<- graficaLinea(ENC3$'3_16',rotar = "h", precision = 1, inicio = 30, final = 50)
exportarLatex('/mnt/datos/GitHub/ResultadosEncovi/graficas/3_16.tex', g16)
g16<- graficaLinea(ENC3$'3_16',rotar = "h", precision = 1, inicio = 30, final = 46)
exportarLatex('/mnt/datos/GitHub/ResultadosEncovi/graficas/3_16.tex', g16)
g20
g19
g19<- graficaLinea(ENC3$"3_19",rotar = "h", inicio = 20, final = 80)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_19.tex",g19)
g19<- graficaLinea(ENC3$"3_19",rotar = "h", inicio = 20, final = 70)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_19.tex",g19)
G23
g23
24
g24
g22
g22<- graficaLinea(ENC3$"3_22",rotar = "h", inicio = 20, final = 45)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_22.tex",g22)
g22
ENC3$"3_22"
g22<- graficaLinea(ENC3$"3_22",rotar = "h", inicio = 20, final = 65)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_22.tex",g22)
g22
g22<- graficaLinea(ENC3$"3_22",rotar = "h", inicio = 20, final = 60)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_22.tex",g22)
g22
g22<- graficaLinea(ENC3$"3_22",rotar = "h", inicio = 20, final = 60)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_22.tex",g22)
g22<- graficaLinea(ENC3$"3_22",rotar = "h", inicio = 20, final = 58)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_22.tex",g22)
g26
g25
g27
g28
g28<- graficaLinea(ENC3$"3_28",rotar = "h",inicio = 32, final = 60)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_28.tex",g28)
g23
g25
g25<- graficaLinea(ENC3$"3_25",rotar = "h", inicio = 65, final= 80)
exportarLatex("/mnt/datos/GitHub/ResultadosEncovi/graficas/3_25.tex",g25)
library(funcionesINE)
library(xlsx)
library(xlsxjars)
pobreza <- leerLibroNormal('/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCocinado.xlsx')
escribirCSV(pobreza, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSVENCOVI/')
pobrezaCSV <- leerLibro(ruta = '/mnt/datos/GitHub/ResultadosEncovi/Libros/pobrezaCSV.xlsx')
escribirCSV(lista = pobrezaCSV, ruta = '/mnt/datos/GitHub/ResultadosEncovi/CSV/1/')
anual()
ENC1<- cargaMasiva("/mnt/datos/GitHub/ResultadosEncovi/CSV/1", codificacion = 'utf8' )
source('/mnt/datos/GitHub/unfpa/generacion.R')
install.packages('dplyr')
install.packages('survey')
source('/mnt/datos/GitHub/unfpa/generacion.R')
install.packages('dplyr')
install.packages('Rcpp')
setwd('/mnt/datos/GitHub/unfpa/')
source('/mnt/datos/GitHub/unfpa/graficas.R')
ENC
g<- graficaLinea(ENC$"1_01", inicio=0,rotar = "h")
library(foreign, pos=15)
library(dplyr)
library(survey)
library(xlsx)
library(xlsxjars)
setwd('/mnt/datos/GitHub/unfpa/')
enei14 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/personas2014.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei14) <- tolower(colnames(enei14))
enei4 <- tbl_df(enei14)
#encuesta4 <- svydesign(ids = ~1, data= enei4, weights = ~factor_expansion)
enei13 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/personas2013.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei13) <- tolower(colnames(enei13))
enei3 <- tbl_df(enei13)
enei12 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/personas2012.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei12) <- tolower(colnames(enei12))
enei2 <- tbl_df(enei12)
enei <- tbl_df(enei14)
enei11 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/pesonas2011.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei11) <- tolower(colnames(enei11))
enei1 <- tbl_df(enei11)
install.packages('dplyr')
library(foreign, pos=15)
library(dplyr)
library(survey)
library(xlsx)
library(xlsxjars)
install.packages('survey')
library(foreign, pos=15)
library(dplyr)
library(survey)
library(xlsx)
library(xlsxjars)
setwd('/mnt/datos/GitHub/unfpa/')
enei14 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/personas2014.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei14) <- tolower(colnames(enei14))
enei4 <- tbl_df(enei14)
#encuesta4 <- svydesign(ids = ~1, data= enei4, weights = ~factor_expansion)
enei13 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/personas2013.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei13) <- tolower(colnames(enei13))
enei3 <- tbl_df(enei13)
enei12 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/personas2012.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei12) <- tolower(colnames(enei12))
enei2 <- tbl_df(enei12)
enei <- tbl_df(enei14)
enei11 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/pesonas2011.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(enei11) <- tolower(colnames(enei11))
enei1 <- tbl_df(enei11)
source('/mnt/datos/GitHub/unfpa/carga.R')
View(enei4)
tabla <- enei4 %<%
select(num_hogar, ppa03, pea) %<%
filter(ppa03 <= 14, ppa03 >6)
tabla <- enei4 %>%
select(num_hogar, ppa03, pea) %>%
filter(ppa03 <= 14, ppa03 >6)
tabla
tabla <- enei4 %>%
select(num_hogar, ppa03, pea) %>%
filter(ppa03 <= 14, ppa03 >6) %>%
na.omit()
tabla
View(tabla)
ninosTrabajadores <- enei4 %>%
select(pea, ppa03, factor_expansion) %>%
filter(ppa03 <=14) %>%
na.omit()
View(ninosTrabajadores)
tabla.num_hogar
tabla$num_hogar
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar == tabla$num_hogar)
View(tablaJefe)
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar)
View(tablaJefe)
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar) %>%
filter(ppa05 == 'Jefe(a) del hogar?')
View(tablaJefe)
tabla$num_hogar
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?')
View(tablaJefe)
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?', p03a05a ==  'Ninguno')
View(tablaJefe)
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?', p03a05a ==  'Universitario')
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?', p03a05a ==  'Universitario')
View(tablaJefe)
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?', p03a05a ==  'Diversificado')
View(tablaJefe)
source('/mnt/datos/GitHub/unfpa/carga.R')
ninosTrabajadores
ninosTrabajadores <- enei4 %>%
select(pea, ppa03, factor_expansion) %>%
filter(ppa03 <=14) %>%
na.omit()%>%
count(wt =  factor_expansion)
ninosTrabajadores
tabla <- enei4 %>%
select(num_hogar, ppa03, pea, factor_expansion) %>%
filter(ppa03 <= 14, ppa03 >6) %>%
na.omit()
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a, factor_expansion) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?')  %>%
na.omit() %>%
group_by(p03a05a)%>%
summarise(y = sum(factor_expansion)/ninosTrabajadores)
tablaJefe
ninosTrabajadores
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a, factor_expansion) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?')  %>%
na.omit() %>%
group_by(p03a05a)%>%
summarise(y = sum(factor_expansion)/as.numeric(ninosTrabajadores))
tablaJefe
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a, factor_expansion) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?')  %>%
na.omit() %>%
group_by(p03a05a)%>%
summarise(y = sum(factor_expansion)/as.numeric(ninosTrabajadores)*100)
tablaJefe
sum(tablaJefe$y)
View(tabla)
distinct(tabla)
distinct(tabla$num_hogar)
distinct(tabla, num_hogar)
nrow(distinct(tabla, num_hogar))
nrow(tabla, num_hogar)
nrow(tabla$num_hogar)
nrow(tabla)
tablaJefe <- enei4 %>%
select(num_hogar, ppa05,p03a05a, factor_expansion) %>%
filter(num_hogar %in% tabla$num_hogar, ppa05 == 'Jefe(a) del hogar?')
View(tablaJefe)
View(tabla)
tablaAux <- enei4 %>%
select(num_hogar, ppa03, pea, factor_expansion, p03a05a) %>%
filter(ppa03 <= 14, ppa03 >6, num_hogar %in% tablaJefe$num_hogar)
View(tablaAux)
tablaAux <- enei4 %>%
select(num_hogar, ppa03, pea, factor_expansion, p03a05a) %>%
filter(ppa03 <= 14, ppa03 >6, num_hogar %in% tablaJefe$num_hogar) %>%
na.omit()
View(tablaAux)
tablaAux <- enei4 %>%
select(num_hogar, ppa03, pea, factor_expansion, p03a05a) %>%
filter(ppa03 <= 14, ppa03 >6, num_hogar %in% tablaJefe$num_hogar) %>%
na.omit() %>%
group_by(p03a05a)%>%
summarise(y = sum(factor_expansion)/as.numeric(ninosTrabajadores)*100)
View(tablaAux)
sum(tablaAux$y)
inner_join(tabla, tablaJefe)
View(inner_join(tabla, tablaJefe))
tablaAux < inner_join(tabla, tablaJefe)
tablaAux <-  inner_join(tabla, tablaJefe)
filter(tablaAux, p03a05a ==  'Maestría')
nrow(tablaAux)
educacionJefe <- tablaAux %>%
group_by(p03a05a)%>%
summarise(y = sum(factor_expansion)/as.numeric(ninosTrabajadores)*100)
View(educacionJefe)
sum(educacionJefe$y)
source('/mnt/datos/GitHub/unfpa/trabajoInfantil.R')
#ANIOS###
makeYears <- function(year, longitud = 4){
anios <- c()
for (x in longitud:0){
anios <- c(anios,year - x)
}
return(anios)
}
source('/mnt/datos/GitHub/unfpa/trabajoInfantil.R')
source('/mnt/datos/GitHub/unfpa/trabajoInfantil.R')
educacionJefe$x
educacionJefe$x[9]
educacionJefe$x[9] <- "Desconocido"
educacionJefe$x[9]
educacionJefe$x <- factor(c("Ninguno", "Preprimaria", "Primaria", "Básico", "Diversificado",  "Superior",  "Maestría",  "Doctorado"), exclude = )
educacionJefe$x[9]
addNA(educacionJefe$x)
educacionJefe$x
educacionJefe$x < addNA(educacionJefe$x)
educacionJefe$x <- addNA(educacionJefe$x)
educacionJefe$x < addNA(educacionJefe$x)
educacionJefe$x
levels(educacionJefe$x)
levels(educacionJefe$x)[9] <- "Desconocido"
levels(educacionJefe$x)
educacionJefe$x
source('/mnt/datos/GitHub/unfpa/trabajoInfantil.R')
source('/mnt/datos/GitHub/unfpa/trabajoInfantil.R')
#########################Generación de graficas###################3
library(funcionesINE)
anual(rgb(0,0,1), rgb(0.6156862745098039,0.7333333333333333,1))
ENC <- cargaMasiva('/mnt/datos/GitHub/unfpa/', codificacion = 'utf8')
g1 <- graficaLinea(ENC$"4_01", rotar = "h", inicio=0)
exportarLatex("graficas/TrabajoInfantil/1_01.tex", g1)
encovi14 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/encoviHogares2014.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(encovi14) <- tolower(colnames(encovi14))
encovi4 <- tbl_df(encovi14)
View(encovi4)
consumo14 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/consumo2014.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(consumo14) <- tolower(colnames( consumo14 ))
consumo4 <- tbl_df( consumo4 )
consumo14 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/consumo2014.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(consumo14) <- tolower(colnames( consumo14 ))
consumo4 <- tbl_df( consumo14 )
View(consumo14)
525*3
mean(consumo4$educa3)
weighted.mean(consumo4$educa3, consumo4$factor)
mean( consumo4$gasto3)
weighted.mean(consumo4$gasto3, consumo4$factor)
762.6972/1650.271
weighted.mean(consumo4$educa3/consumo4$gasto3, consumo4$factor)
proporcionGastoEdu <- consumo4 %>%
filter(gasto3, educa3, factor) %>%
na.omit()%>%
summarise(y = weighted.mean(educa3/gasto3), factor)
proporcionGastoEdu <- consumo4 %>%
filter(gasto3, educa3, factor) %>%
na.omit()%>%
summarise(y = weighted.mean(educa3/gasto3), factor)
proporcionGastoEdu <- consumo4 %>%
filter(gasto3, educa3, factor) %>%
na.omit()
View(proporcionGastoEdu)
proporcionGastoEdu <- consumo4 %>%
select(gasto3, educa3, factor) %>%
na.omit()%>%
summarise(y = weighted.mean(educa3/gasto3), factor)
proporcionGastoEdu <- consumo4 %>%
select(gasto3, educa3, factor)
View(proporcionGastoEdu)
View(consumo4)
proporcionGastoEdu <- consumo4 %>%
select(educa3, gasto3 , factor)
View(consumo4)
View(proporcionGastoEdu)
View(consumo4)
proporcionGastoEdu <- consumo4 %>%
select(numhogar, educa3, gasto3 , factor)
proporcionGastoEdu <- consumo4 %>%
select(numhog, educa3, gasto3 , factor)
View(consumo4)
View(proporcionGastoEdu)
proporcionGastoEdu <- consumo4 %>%
select(numhog, educa3, agreg3 , factor) %>%
na.omit()%>%
summarise(y = weighted.mean(educa3/agreg3), factor)
proporcionGastoEdu <- consumo4 %>%
select(numhog, educa3, agreg3 , factor) %>%
na.omit()%>%
proporcionGastoEdu <- consumo4 %>%
select(numhog, educa3, agreg3 , factor) %>%
na.omit()%>%
summarise(y = weighted.mean(educa3/agreg3, factor))
proporcionGastoEdu <- consumo4 %>%
select(numhog, educa3, agreg3 , factor) %>%
na.omit()%>%
summarise(y = weighted.mean(educa3/agreg3, factor))
proporcionGastoEdu
proporcionGastoEdu*100
encoviPer14 <- read.spss("/mnt/datos/GitHub/unfpa/Bases/encoviPersonas2014.sav",
use.value.labels=TRUE, max.value.labels=Inf, to.data.frame=TRUE)
colnames(encoviPer14) <- tolower(colnames(encoviPer14))
encovi4 <- tbl_df(encoviPer14)
gastoEducacion <- encoviPer14 %>%
select(numhog, p06a03b, p06a04b, p06a05b, p06a06b, p06a07b, p06a08b, p06a09b, p06b12b, p06b13b, p06b14b, p06b20b, p0621b)
gastoEducacion <- encoviPer14 %>%
select(numhog, p06a03b, p06a04b, p06a05b, p06a06b, p06a07b, p06a08b, p06a09b, p06b12b, p06b13b, p06b14b, p06b20b, p06b21b)
View(gastoEducacion)
gastoEducacion <- encoviPer14 %>%
select(numhog, p06a03b, p06a04b, p06a05b, p06a06b, p06a07b, p06a08b, p06a09b, p06b12b, p06b13b, p06b14b, p06b20b, p06b21b) %>%
group_by(numhog)
View(gastoEducacion)
